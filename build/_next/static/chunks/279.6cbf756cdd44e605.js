(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{1760:function(e,n){"use strict";n.Z={src:"/_next/static/media/milkyway.dfc91e8e.jpg",height:512,width:1024,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAQACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABwEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAJGF/8QAGRAAAwADAAAAAAAAAAAAAAAAAQIRADEy/9oACAEBAAE/AB2qQTWf/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwB//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwB//9k="}},7279:function(e,n,t){"use strict";t.r(n),t.d(n,{Earth:function(){return O},EarthSection:function(){return U}});var r=t(7568),i=t(8616),a=t(1799),c=t(9396),u=t(9815),o=t(4051),s=t.n(o),l=t(5893),f=t(4843),d=t(1850),A=t(2026),v=t(3374),p=t(5535),h=t(7898),m=t(7673),y=t(1760),w=t(7206),x=t(6602),g=t(3994),E=t(7260),b=t(6240),C=t(7378),k=t(4529),S=t(7294),P=t(7333),_=t(9997),R=t(9477),j=t(2156),M=t(2362),z=t(3142),Z=t(9552),B=t(1706),F=t.n(B),N={x:0,y:0,z:2},D=function(e,n,t){return e+t*(n-e)},L=function(e){return Object.keys(e).map((function(n){return parseFloat(Math.round(100*e[n])/100).toFixed(2)})).join(", ")},Q=function(e){return e&&e.camera?{x:e.camera[0],y:e.camera[1],z:e.camera[2]}:N},I={stiffness:80,damping:40,mass:2,restSpeed:.001,restDelta:.001},T={stiffness:40,damping:30,mass:2,restSpeed:.001,restDelta:.001},q={stiffness:40,damping:30},J=(0,S.createContext)({}),O=function(e){var n=e.position,t=void 0===n?[0,0,0]:n,o=e.scale,B=void 0===o?1:o,O=e.hideMeshes,U=void 0===O?[]:O,Y=e.labels,W=void 0===Y?[]:Y,G=e.className,H=e.children,K=(0,S.useState)(!1),X=K[0],V=K[1],$=(0,S.useState)(!1),ee=$[0],ne=$[1],te=(0,S.useState)(!1),re=te[0],ie=te[1],ae=(0,S.useState)(!1),ce=ae[0],ue=ae[1],oe=(0,S.useRef)([]),se=(0,S.useRef)(),le=(0,S.useRef)(),fe=(0,S.useRef)(),de=(0,S.useRef)(),Ae=(0,S.useRef)(),ve=(0,S.useRef)(),pe=(0,S.useRef)(),he=(0,S.useRef)(),me=(0,S.useRef)(),ye=(0,S.useRef)(),we=(0,S.useRef)(),xe=(0,S.useRef)(),ge=(0,k.NM)(fe),Ee=(0,S.useRef)(),be=(0,S.useRef)(Q(oe.current[0])),Ce=(0,S.useRef)([]),ke=(0,S.useRef)(),Se=(0,S.useRef)(),Pe=(0,S.useRef)(),_e=(0,S.useRef)(),Re=(0,k.iP)(),je=Re.width,Me=Re.height,ze=(0,b.J)(),Ze=(0,C.q)(0,I),Be=(0,C.q)(0,I),Fe=(0,C.q)(0,I),Ne=(0,C.q)(0,T),De=(0,C.q)(0,T),Le=(0,C.q)(0,T),Qe=(0,C.q)(0,q),Ie=(0,S.useCallback)((function(){if(ge){Ee.current=requestAnimationFrame(Ie);var e=pe.current.getDelta();xe.current.update(e),ke.current.update(),Ae.current.render(de.current,ve.current),Ce.current.forEach((function(e){var n=e.element,t=e.position,r=e.sprite,a=(0,i.Z)(R.Pa4,(0,u.Z)(t)),c=ve.current.position.distanceTo(ye.current.position),o=ve.current.position.distanceTo(r.position)>c;a.project(ve.current),a.x=Math.round((.5+a.x/2)*window.innerWidth),a.y=Math.round((.5-a.y/2)*window.innerHeight),n.style.setProperty("--posX",(0,M.ml)(a.x)),n.style.setProperty("--posY",(0,M.ml)(a.y)),n.dataset.occluded=!!o}))}else cancelAnimationFrame(Ee.current)}),[ge]);(0,S.useEffect)((function(){_e.current=!0;var e=window.innerWidth,n=window.innerHeight;Ae.current=new R.CP7({canvas:fe.current,antialias:!1,alpha:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0}),Ae.current.setPixelRatio(1),Ae.current.outputEncoding=R.knz,Ae.current.physicallyCorrectLights=!0,Ae.current.toneMapping=R.LY2,ve.current=new R.cPb(54,e/n,.1,100),ve.current.position.x=be.current.x,ve.current.position.y=be.current.y,ve.current.position.z=be.current.z,ve.current.lookAt(0,0,0),Ze.set(ve.current.position.x,!1),Be.set(ve.current.position.y,!1),Fe.set(ve.current.position.z,!1),de.current=new R.xsS,pe.current=new R.SUY,me.current=new R.iMs;var t=new R.Mig(2236962,.05),r=new R.Ox3(16777215,1.5);r.position.set(3,0,1);var i=[t,r];return i.forEach((function(e){return de.current.add(e)})),ke.current=new P.z(ve.current,fe.current),ke.current.enableZoom=!1,ke.current.enablePan=!1,ke.current.enableDamping=!1,ke.current.rotateSpeed=.5,function(){_e.current=!1,cancelAnimationFrame(Ee.current),(0,z.Ji)(i),(0,z.in)(de.current),(0,z.e8)(Ae.current)}}),[]),(0,S.useEffect)((function(){var e=function(){ne(!0),Ze.stop(),Be.stop(),Fe.stop()},n=function(){Ze.set(ve.current.position.x,!1),Be.set(ve.current.position.y,!1),Fe.set(ve.current.position.z,!1),ne(!1)};return ke.current.addEventListener("start",e),ke.current.addEventListener("end",n),function(){ke.current.removeEventListener("start",e),ke.current.removeEventListener("end",n)}}),[Ze,Be,Fe]),(0,S.useEffect)((function(){if(X){var e=(0,z.x2)("Chunk",ye.current),n=(0,z.x2)("Atmosphere",ye.current),t=function(e,n){ve.current.position[e]=n},r=Ze.onChange((function(e){return t("x",e)})),i=Be.onChange((function(e){return t("y",e)})),a=Fe.onChange((function(e){return t("z",e)})),c=function(n,t){e.position[n]=t},u=Ne.onChange((function(e){return c("x",e)})),o=De.onChange((function(e){return c("y",e)})),s=Le.onChange((function(e){return c("z",e)})),l=Qe.onChange((function(e){n.material.opacity=e}));return function(){r(),i(),a(),u(),o(),s(),l()}}}),[Ze,Be,Fe,Ne,De,Le,X,Qe]),(0,S.useEffect)((function(){je<=M.BC.tablet&&(ke.current.enabled=!1)}),[je]),(0,S.useEffect)((function(){if(!X){var e=new _.q,n=new R.anP(Ae.current);n.compileCubemapShader();var i=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Zf.loadAsync(f);case 2:n=e.sent,ye.current=n.scene,we.current=n.animations,xe.current=new R.Xcj(ye.current),xe.current.timeScale=.1,ye.current.traverse(function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.material,"Atmosphere"===n.name&&(t.alphaMap=t.map),!t){e.next=5;break}return e.next=5,Ae.current.initTexture(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ye.current.position.x=t[0],ye.current.position.y=t[1],ye.current.position.z=t[2],ye.current.scale.x=B,ye.current.scale.y=B,ye.current.scale.z=B;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=(0,r.Z)(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAsync([d,A,v,p,h,m]);case 2:return(r=t.sent).magFilter=R.wem,Se.current=n.fromCubemap(r),n.dispose(),t.next=8,Ae.current.initTexture(Se.current.texture);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Et.loadAsync(y.Z.src);case 2:return(n=e.sent).mapping=R.dSO,n.encoding=R.knz,de.current.background=n,e.next=8,Ae.current.initTexture(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c(),a(),i()]);case 2:ye.current.traverse((function(e){var n=e.material;n&&(n.envMap=Se.current.texture,n.needsUpdate=!0)})),_e.current&&V(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.startTransition)((function(){u(),setTimeout((function(){ue(!0)}),1e3)}))}}),[X,t,B]),(0,S.useEffect)((function(){return X&&!Pe.current&&(de.current.add(ye.current),Pe.current=!0),X&&ge&&(ie(!0),Ie()),function(){cancelAnimationFrame(Ee.current)}}),[Ie,ge,X]),(0,S.useEffect)((function(){X&&(le.current.innerHTML="",Ce.current=W.map((function(e){var n,t=document.createElement("div");t.classList.add(F().label),t.dataset.hidden=!0,t.style.setProperty("--delay","".concat(e.delay||0,"ms")),t.textContent=e.text,le.current.appendChild(t);var r=new R.jyi;return(n=r.position).set.apply(n,(0,u.Z)(e.position)),r.scale.set(60,60,1),(0,c.Z)((0,a.Z)({element:t},e),{sprite:r})})))}),[W,X]),(0,S.useEffect)((function(){Ae.current.setSize(je,Me),ve.current.aspect=je/Me,ve.current.updateProjectionMatrix()}),[je,Me]),(0,S.useEffect)((function(){var e=fe.current,n=function(e){var n=window.innerWidth,t=window.innerHeight,r=L(ve.current.position);console.info({cameraPosition:r}),he.current=new R.FM8(e.clientX/n*2-1,-e.clientY/t*2+1),me.current.setFromCamera(he.current,ve.current);var i=me.current.intersectObjects(de.current.children,!0);if(i.length>0){var a=L(i[0].point);console.info({clickPosition:a})}};return function(){e.removeEventListener("click",n)}}),[]);var Te=(0,S.useCallback)((function(){if(se.current){var e,n=se.current.offsetTop,t=window.innerHeight,r=window.scrollY-n,i=function(e){var n=oe.current[e].meshes;ye.current.traverse((function(e){var t=e.name,r=(0,z.x2)("Chunk",ye.current),i=null===n||void 0===n?void 0:n.includes(t),a=null===U||void 0===U?void 0:U.includes(t);if(i)if("Atmosphere"===t)e.visible=!0,Qe.set(1);else if("Chunk"===t){var c,o=new R.Pa4(-.4,.4,.4);if(e.visible=!0,ze)(c=e.position).set.apply(c,(0,u.Z)(o.toArray()));else Ne.set(o.x),De.set(o.y),Le.set(o.z)}else"EarthFull"===t&&r.visible?e.visible=!1:e.visible=!0;else if(a&&!i)if("Atmosphere"===t)Qe.set(0);else if("Chunk"===t){var s=new R.Pa4(0,0,0);(function(e,n){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(100*(e+Number.EPSILON))/100};return t(null===e||void 0===e?void 0:e.x)===t(null===n||void 0===n?void 0:n.x)&&t(null===e||void 0===e?void 0:e.y)===t(null===n||void 0===n?void 0:n.y)&&t(null===e||void 0===e?void 0:e.z)===t(null===n||void 0===n?void 0:n.z)})(s,r.position)&&(e.visible=!1),Ne.set(s.x),De.set(s.y),Le.set(s.z)}else"EarthPartial"===t&&r.visible?e.visible=!0:e.visible=!1}))};requestAnimationFrame((function(){var n,a=oe.current.length-1,c=Math.floor(r/t),u=(0,j.u)(c,0,a),o=oe.current[u],s=oe.current[u+1],l=Q(o)||N,f=Q(s)||N,d=(r-t*u)/t,A=(0,j.u)(d,0,1),v=D(l.x,f.x,A),p=D(l.y,f.y,A),h=D(l.z,f.z,A);e!==l&&oe.current.length&&o&&(i(u),function(e){var n=oe.current[e].animations;ze||(we.current.forEach((function(e,t){n.find((function(e){return e.includes(t.toString())}))||xe.current.clipAction(e).reset().stop()})),we.current.length&&oe.current[e].animations&&n.forEach((function(e){var n=e.split(":"),t=we.current[Number(n[0])],r=xe.current.clipAction(t);n[1]&&"loop"===n[1]||(r.clampWhenFinished=!0,r.loop=R.jAl),r.play()})))}(u),n=u,Ce.current.forEach((function(e){e.hidden&&(e.element.dataset.hidden=!0,e.element.setAttribute("aria-hidden",!0))})),oe.current[n].labels.forEach((function(e){Ce.current.filter((function(n){return n.text===e})).forEach((function(e){e.element.dataset.hidden=!1,e.element.setAttribute("aria-hidden",!1)}))}))),e=l,ee||(ze?ve.current.position.set(v,p,h):(Ze.set(v),Be.set(p),Fe.set(h)))}))}}),[Ze,Be,Fe,Ne,De,Le,ee,U,Qe,ze]);(0,S.useEffect)((function(){var e=(0,Z.P)(Te,100);return X&&ge&&window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[Te,ge,X,Qe]);var qe=(0,S.useCallback)((function(e){oe.current=(0,u.Z)(oe.current).concat([e])}),[]),Je=(0,S.useCallback)((function(e){oe.current=oe.current.filter((function(n){return n!==e}))}),[]);return(0,l.jsx)(J.Provider,{value:{registerSection:qe,unregisterSection:Je},children:(0,l.jsxs)("div",{className:(0,M.Sh)(F().earth,G),ref:se,children:[(0,l.jsxs)("div",{className:F().viewport,children:[(0,l.jsx)("canvas",{className:F().canvas,"data-visible":X&&re,"data-grabbing":ee,ref:fe}),(0,l.jsx)("div",{className:F().labels,"aria-live":"polite",ref:le}),(0,l.jsx)("div",{className:F().vignette})]}),(0,l.jsx)("div",{className:F().sections,children:H}),(0,l.jsx)(E.u,{unmount:!0,in:!X&&ce,timeout:(0,M.zG)(g.T.base.durationL),children:function(e){return(0,l.jsx)(x.$,{className:F().loader,"data-visible":e,children:(0,l.jsx)(w.a,{})})}})]})})},U=(0,S.memo)((function(e){var n=e.children,t=e.scrim,r=e.scrimReverse,i=e.className,a=e.camera,c=void 0===a?[0,0,0]:a,u=e.animations,o=void 0===u?[]:u,s=e.meshes,f=void 0===s?[]:s,d=e.labels,A=void 0===d?[]:d,v=(0,S.useContext)(J),p=v.registerSection,h=v.unregisterSection,m=(0,S.useRef)(),y=JSON.stringify(o)+JSON.stringify(c)+JSON.stringify(A)+JSON.stringify(f);return(0,S.useEffect)((function(){var e={camera:c,animations:o,meshes:f,labels:A,sectionRef:m};return p(e),function(){h(e)}}),[y,p,h]),(0,l.jsx)("div",{className:(0,M.Sh)(F().section,i),"data-scrim":t,"data-scrim-reverse":r,ref:m,children:n})}))},2156:function(e,n,t){"use strict";t.d(n,{u:function(){return r}});var r=function(e,n,t){return t?Math.min(e,n)===e?n:Math.max(e,t)===e?t:e:Math.max(e,n)===n?e:n}},3142:function(e,n,t){"use strict";t.d(n,{Et:function(){return s},Ji:function(){return A},Zf:function(){return o},e8:function(){return d},in:function(){return l},x2:function(){return v}});var r=t(9477),i=t(4976),a=t(7607);r.CtF.enabled=!0;var c=new i._,u=new a.E;c.setDecoderPath("/draco/"),u.setDRACOLoader(c);var o=u,s=new r.dpR,l=function(e){null===e||void 0===e||e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)f(e.material);else{var n=!0,t=!1,r=void 0;try{for(var i,a=e.material[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;f(c)}}catch(u){t=!0,r=u}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}}}))},f=function(e){e.dispose();var n=!0,t=!1,r=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c,u,o,s=e[i.value];if(s&&"object"===typeof s&&"minFilter"in s)s.dispose(),null===(c=s.source)||void 0===c||null===(u=c.data)||void 0===u||null===(o=u.close)||void 0===o||o.call(u)}}catch(l){t=!0,r=l}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}},d=function(e){e.dispose(),e=null},A=function(e){var n=!0,t=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;c.parent.remove(c)}}catch(u){t=!0,r=u}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}},v=function(e,n){var t;return n.traverse((function(n){n.name===e&&(t=n)})),t}},9552:function(e,n,t){"use strict";t.d(n,{P:function(){return i}});var r=t(9815);function i(e,n){var t=0;return function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];var u=new Date;u-t>=n&&(e.apply(void 0,(0,r.Z)(a)),t=u)}}},1706:function(e){e.exports={earth:"Earth_earth__KPKqn",loader:"Earth_loader__JgM0w",viewport:"Earth_viewport__ycV6Z",canvas:"Earth_canvas__SyImB",labels:"Earth_labels__4UENv",label:"Earth_label__97RI6",vignette:"Earth_vignette__L35Tj",sections:"Earth_sections__6Wsbe",section:"Earth_section__bDXEn"}},4843:function(e,n,t){"use strict";e.exports=t.p+"static/media/earth.510551ea.glb"},1850:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-nx.0e972b21.hdr"},2026:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-ny.006459f3.hdr"},3374:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-nz.5f35d5a4.hdr"},5535:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-px.2922755b.hdr"},7898:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-py.7aeec30d.hdr"},7673:function(e,n,t){"use strict";e.exports=t.p+"static/media/milkyway-pz.0ef64b21.hdr"},9815:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(943);var i=t(3375);var a=t(1566);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);